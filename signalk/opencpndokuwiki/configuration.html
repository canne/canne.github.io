<h2 class="page-header">SK Configuration for OpenCPN</h2>

<div class="level2">
<p>There are many different servers which can provide Signal K data. The first sections of this document explain the installation of <a class="urlextern" href="https://github.com/SignalK/signalk-server-node" rel="nofollow" title="https://github.com/SignalK/signalk-server-node">Signal K node server for node.js</a>, an implementation of Signal K server available on multiple platforms.</p>

<hr /></div>

<h3>External references</h3>

<div class="level3">
<ul class="fix-media-list-overlap">
	<li class="level1">The generic configuration guide in the development site at GitHub is quite technically oriented:<br />
	<a class="urlextern" href="https://github.com/SignalK/signalk-server-node#configuration" rel="nofollow" title="https://github.com/SignalK/signalk-server-node#configuration">https://github.com/SignalK/signalk-server-node#configuration</a><br />
	However, it is worthwhile to keep a look at that web site regularly; like all open source projects, fast evolving features can be best foundt there!</li>
	<li class="level1">Another page, the configuration guide for Raspberry Pi is actually interesting reading whatever is your platform! From here, onward:<br />
	<a class="urlextern" href="https://github.com/SignalK/signalk-server-node/blob/master/raspberry_pi_installation.md#real-inputs" rel="nofollow" title="https://github.com/SignalK/signalk-server-node/blob/master/raspberry_pi_installation.md#real-inputs">https://github.com/SignalK/signalk-server-node/blob/master/raspberry_pi_installation.md#real-inputs</a></li>
</ul>

<hr /></div>

<h3>Additional Information</h3>

<div class="level3">
<p>In this section, some practical configuration guide are collected for</p>

<ul class="fix-media-list-overlap">
	<li class="level1"><a class="wikilink1 curid" data-curid="true" href="/wiki/dokuwiki/doku.php?id=opencpn:supplementary_software:signalk:a6#configuration_use_case_of_signal_k_node_server_on_windows_native_nodejs_installation" title="opencpn:supplementary_software:signalk:a6">Configuration use case of Signal K node server on Windows, native node.js installation</a></li>
	<li class="level1"><a class="wikilink1 curid" data-curid="true" href="/wiki/dokuwiki/doku.php?id=opencpn:supplementary_software:signalk:a6#howto_stream_out_a_recorded_nmea-file" title="opencpn:supplementary_software:signalk:a6">Howto stream out a recorded NMEA-file</a></li>
	<li class="level1"><a class="wikilink1 curid" data-curid="true" href="/wiki/dokuwiki/doku.php?id=opencpn:supplementary_software:signalk:a6#how_to_use_a_nmea-simulator_to_stream_nmea-0183_and_nmea-2000_data" title="opencpn:supplementary_software:signalk:a6">How to use a NMEA-simulator to stream NMEA-0183 and NMEA-2000 data</a></li>
</ul>

<hr /></div>

<h4>Configuration use case of Signal K node server on Windows, native node.js installation</h4>

<div class="level4">
<ol class="fix-media-list-overlap">
	<li class="level1">Use your Windows search to find &#39;cmd&#39; the command line terminal. Start <code>signalk-server</code>. This will create <code>.signalk</code> directory in you r home directory (keep it in mind, you will need it later, in more advanced operations) and an empty settings file in it.<br />
	<img alt="live.staticflickr.com_65535_49124148656_11d4819d2e_w.jpg" class="media img-responsive" height="67" src="/wiki/dokuwiki/lib/exe/fetch.php?w=399&amp;h=67&amp;tok=83e341&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124148656_11d4819d2e_w.jpg" title="live.staticflickr.com_65535_49124148656_11d4819d2e_w.jpg" width="399" /></li>
	<li class="level1">Launch your browser and point it to, using the address bar and typing <a class="urlextern" href="http://localhost:3000" rel="nofollow" title="http://localhost:3000">http://localhost:3000</a> and press Enter. If you can keep the terminal visible, you would see how the server activates to serve the user GUI:<br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=d72794&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124338022_432239e6f2.jpg" title="https://live.staticflickr.com/65535/49124338022_432239e6f2.jpg"><img alt="live.staticflickr.com_65535_49124338022_432239e6f2.jpg" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=d72794&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124338022_432239e6f2.jpg" title="live.staticflickr.com_65535_49124338022_432239e6f2.jpg" /></a></li>
	<li class="level1">The GUI of the Signal K node serve will appear:<br />
	<img alt="live.staticflickr.com_65535_49123653503_6a46dca2d6_n.jpg" class="media img-responsive" height="228" src="/wiki/dokuwiki/lib/exe/fetch.php?w=320&amp;h=228&amp;tok=5efcdd&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49123653503_6a46dca2d6_n.jpg" title="live.staticflickr.com_65535_49123653503_6a46dca2d6_n.jpg" width="320" /></li>
	<li class="level1">In the lower part of the GUI, you can observe the version of the software and the unique ID of your server:<br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=283a29&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49123653438_0958d4abb4.jpg" title="https://live.staticflickr.com/65535/49123653438_0958d4abb4.jpg"><img alt="live.staticflickr.com_65535_49123653438_0958d4abb4.jpg" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=283a29&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49123653438_0958d4abb4.jpg" title="live.staticflickr.com_65535_49123653438_0958d4abb4.jpg" /></a></li>
	<li class="level1">Filling in the vessel data is not mandatory - it is the same information that you have in you AIS transceiver but depending where you GPS is coming from, you may consider to give here the values of the antenna location in relation to the boat.<br />
	<img alt="live.staticflickr.com_65535_49123653408_7338f547d8_z.jpg" class="media img-responsive" height="640" src="/wiki/dokuwiki/lib/exe/fetch.php?w=574&amp;h=640&amp;tok=aa2701&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49123653408_7338f547d8_z.jpg" title="live.staticflickr.com_65535_49123653408_7338f547d8_z.jpg" width="574" /></li>
	<li class="level1">Hopefully, in today&#39;s world, it goes without saying that you should enable the security on this network accessed service!<br />
	<img alt="live.staticflickr.com_65535_49124337827_6228853253_n.jpg" class="media img-responsive" height="172" src="/wiki/dokuwiki/lib/exe/fetch.php?w=320&amp;h=172&amp;tok=185b02&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124337827_6228853253_n.jpg" title="live.staticflickr.com_65535_49124337827_6228853253_n.jpg" width="320" /></li>
	<li class="level1">You will notice that after many major changes in the configuration like this, but also the change in the inputs or outputs require that the Signal K node server is restarted. During this configuration exercise we need to do it quite often - let&#39;s learn to do it now:<br />
	<img alt="live.staticflickr.com_65535_49123653278_e67b1fab09_n.jpg" class="media img-responsive" height="68" src="/wiki/dokuwiki/lib/exe/fetch.php?w=320&amp;h=68&amp;tok=740a35&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49123653278_e67b1fab09_n.jpg" title="live.staticflickr.com_65535_49123653278_e67b1fab09_n.jpg" width="320" /></li>
	<li class="level1">Unlike its Linux counterpart, the Signal K node server is not running in this Windows use case as system level service which would restart it automatically - we started it from the command line, so we need to restart it also from the command line. Go to the terminal and press Ctrl+C (Press key &#39;Ctrl&#39;, keep it down and then press key &#39;C&#39;). You will asked &quot;Terminate batch job (Y/N)?&quot;. Yes.<br />
	<img alt="live.staticflickr.com_65535_49123653238_f85b70f0f2_w.jpg" class="media img-responsive" height="57" src="/wiki/dokuwiki/lib/exe/fetch.php?w=397&amp;h=57&amp;tok=1488d1&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49123653238_f85b70f0f2_w.jpg" title="live.staticflickr.com_65535_49123653238_f85b70f0f2_w.jpg" width="397" /></li>
	<li class="level1">To restart the server, use the up- and down- arrow keys of your keyboard to scroll to the <code>signalk-server</code> command, press Enter.</li>
	<li class="level1">You will notice that you need to login to the server for the first time but also after some timeout period which we will set below:<br />
	<img alt="live.staticflickr.com_65535_49124148911_0c9a95386b_m.jpg" class="media img-responsive" height="240" src="/wiki/dokuwiki/lib/exe/fetch.php?w=183&amp;h=240&amp;tok=802eb2&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124148911_0c9a95386b_m.jpg" title="live.staticflickr.com_65535_49124148911_0c9a95386b_m.jpg" width="183" /></li>
	<li class="level1">You will notice now new buttons in the right hand corner: <span style="background-color:#d35400">(1)</span> will stop the server in our case, not restart it (see above how to restart), <span style="background-color:#d35400">(2)</span> is either for login or logout.<br />
	<img alt="live.staticflickr.com_65535_49123653798_a4264f80cc_t.jpg" class="media img-responsive" height="52" src="/wiki/dokuwiki/lib/exe/fetch.php?w=100&amp;h=52&amp;tok=a5bf7f&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49123653798_a4264f80cc_t.jpg" title="live.staticflickr.com_65535_49123653798_a4264f80cc_t.jpg" width="100" /></li>
	<li class="level1">The automatic logout timeout and other security parameters can be further adjusted if you so wish:<br />
	<img alt="live.staticflickr.com_65535_49123653718_d9b5290424_w.jpg" class="media img-responsive" height="294" src="/wiki/dokuwiki/lib/exe/fetch.php?w=399&amp;h=294&amp;tok=ec5afb&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49123653718_d9b5290424_w.jpg" title="live.staticflickr.com_65535_49123653718_d9b5290424_w.jpg" width="399" /></li>
	<li class="level1">Now it is time for some <b>input</b>! Signal K server has so far none, so let&#39;s add one. Click <code>Connections</code>, then <code>Add</code>.<br />
	<img alt="live.staticflickr.com_65535_49124148761_fffa358d42_n.jpg" class="media img-responsive" height="320" src="/wiki/dokuwiki/lib/exe/fetch.php?w=309&amp;h=320&amp;tok=eb0e62&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124148761_fffa358d42_n.jpg" title="live.staticflickr.com_65535_49124148761_fffa358d42_n.jpg" width="309" /></li>
	<li class="level1">In this use case we have USB connection to feed all NMEA-0183 data from a multiplexer or other system into the computer. Before, we did ask OpenCPN to read it. Now we put the Signal K node server in between, it will read the data from the USB and become broadcaster of ths data on different network channels, one of which we connect to OpenCPN so that will get the stream as well. Let&#39;s start with the USB data input - COM 4 is the USB serial port number, Signal K node server recognizes it but if you have multiple sources you need to know which one is the right one:<br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=e3f0a5&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49123653613_e3f4e11703_o.png" title="https://live.staticflickr.com/65535/49123653613_e3f4e11703_o.png"><img alt="" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=e3f0a5&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49123653613_e3f4e11703_o.png" /></a></li>
	<li class="level1">Actually, the Signal K node server is now <b>ready</b>. But ready to send only Signal K data. We want it to send also NMEA-0183 data. Signal K data needs to be converted back to NMEA-0183 data and sent to the network. You may think that this is a performance penalty, but it is not, it <a class="urlextern" href="https://canne.github.io/dashboard_tactics_pi/docs/signalk/analysis/Three-way_timestamps/Three-way_timestamps_win10.html#Summary-of-results" rel="nofollow" title="https://canne.github.io/dashboard_tactics_pi/docs/signalk/analysis/Three-way_timestamps/Three-way_timestamps_win10.html#Summary-of-results">has been tested</a>. Signal K node server is foreseen for the conversion by default, of course, and we have the following plug-ins installed:<br />
	<img alt="live.staticflickr.com_65535_49124697102_a0f4905e82_w.jpg" class="media img-responsive" height="323" src="/wiki/dokuwiki/lib/exe/fetch.php?w=400&amp;h=323&amp;tok=26a238&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124697102_a0f4905e82_w.jpg" title="live.staticflickr.com_65535_49124697102_a0f4905e82_w.jpg" width="400" /></li>
	<li class="level1">Let&#39;s look at that <code>Set System Time </code>plug-in. If you are underway and without Internet connection and/or you do not have a local NTP/PTP or other time server available in your local network, this plug-in allows you to synchronize your system time with the GPS-time. In this use case we are moored, and with Internet (we are going to need it soon), so we leave this plugin inactive:<br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=e06a65&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124697077_c547437aed_w.jpg" title="https://live.staticflickr.com/65535/49124697077_c547437aed_w.jpg"><img alt="live.staticflickr.com_65535_49124697077_c547437aed_w.jpg" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=e06a65&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124697077_c547437aed_w.jpg" title="live.staticflickr.com_65535_49124697077_c547437aed_w.jpg" /></a></li>
	<li class="level1">The configuration of the Convert Signal K to NMEA0183 plugin&#39;s configuration is self-explanatory. If you hesitate, select all sentences to be converted from Signal K data (do not enable logging, unless you really plan to read those voluminous logs for debugging):<br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=e4eeb6&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124511306_19be87e82e.jpg" title="https://live.staticflickr.com/65535/49124511306_19be87e82e.jpg"><img alt="live.staticflickr.com_65535_49124511306_19be87e82e.jpg" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=e4eeb6&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124511306_19be87e82e.jpg" title="live.staticflickr.com_65535_49124511306_19be87e82e.jpg" /></a></li>
	<li class="level1">You may want to skip the next steps but I will not since I have also AIS transceiver and I saw above that&#39;s its AIVDO-sentences were no included in the NMEA-conversions. Now I need the Internet connection in order to be able to download a few more plug-ins from <code>Appstore</code>:<br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=dd1704&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124696997_e1f3a98678_w.jpg" title="https://live.staticflickr.com/65535/49124696997_e1f3a98678_w.jpg"><img alt="live.staticflickr.com_65535_49124696997_e1f3a98678_w.jpg" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=dd1704&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124696997_e1f3a98678_w.jpg" title="live.staticflickr.com_65535_49124696997_e1f3a98678_w.jpg" /></a></li>
	<li class="level1">I will download and install by clicking the small cloud with a download arrow at the end of each line two more plug-ins,<code> ais-forwarder</code> and <code>@signalk/udp-nmea-plugin</code> (which we are going to, optionally, need later on):<br />
	<img alt="live.staticflickr.com_65535_49124696937_5c51e04805_z.jpg" class="media img-responsive" height="38" src="/wiki/dokuwiki/lib/exe/fetch.php?w=640&amp;h=38&amp;tok=2f8b7d&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124696937_5c51e04805_z.jpg" title="live.staticflickr.com_65535_49124696937_5c51e04805_z.jpg" width="640" /><br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=0b6575&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124696892_6434565545_z.jpg" title="https://live.staticflickr.com/65535/49124696892_6434565545_z.jpg"><img alt="live.staticflickr.com_65535_49124696892_6434565545_z.jpg" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=0b6575&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124696892_6434565545_z.jpg" title="live.staticflickr.com_65535_49124696892_6434565545_z.jpg" /></a></li>
	<li class="level1">I configure the AIS data (NMEA0183) forwarder plug-in like depicted below. The port number is 12000 for no particular reason, just better, IMO, than the default one to remember:<br />
	<img alt="live.staticflickr.com_65535_49124627692_9e0b5169ff_z.jpg" class="media img-responsive" height="640" src="/wiki/dokuwiki/lib/exe/fetch.php?w=585&amp;h=640&amp;tok=098d0c&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124627692_9e0b5169ff_z.jpg" title="live.staticflickr.com_65535_49124627692_9e0b5169ff_z.jpg" width="585" /></li>
	<li class="level1">Time to turn ON your boat&#39;s instruments and RESTART the Signal K node server (see above the specific way to do it from the Windows command-line). After the restart you would notice the connection activity reports on the Dashboard, data is coming in and some output ports are opened, good!<br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=959333&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124440346_d0bacd8b23_z.jpg" title="https://live.staticflickr.com/65535/49124440346_d0bacd8b23_z.jpg"><img alt="live.staticflickr.com_65535_49124440346_d0bacd8b23_z.jpg" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=959333&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124440346_d0bacd8b23_z.jpg" title="live.staticflickr.com_65535_49124440346_d0bacd8b23_z.jpg" /></a></li>
	<li class="level1">In OpenCPN, you would now disable the USB and activate the TCP data connection to read both the NMEA-0183 data and the AIS-data from the two ports they are sent into:<br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=711931&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124629152_d428752047.jpg" title="https://live.staticflickr.com/65535/49124629152_d428752047.jpg"><img alt="live.staticflickr.com_65535_49124629152_d428752047.jpg" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=711931&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124629152_d428752047.jpg" title="live.staticflickr.com_65535_49124629152_d428752047.jpg" /></a></li>
	<li class="level1"><b>Done, it is finished, you are all set</b>! <u>Please remember to backup our <code>.signalk</code> directory</u> from your home directory for not to lose all the above configuration workQ</li>
	<li class="level1">If you are interested in simplified and efficient broadcast method, let&#39;s modify the above a little bit by activating the <code>@signalk/udp-nmea-plugin</code>. It is a powerful way to get the same data we prepared above to multiple devices in the same network using unidirectional UDP protocol - less secure but faster and with this data and with this speed there is no reason not to use it. This is how it is configured: it need to know your network address and end it up with <code>.255</code> which is the network&#39;s broadcat address. If you do not put LF or CR limiter, it is just one, long stream of NMEA-0183 data which gets out, using a limiter can be useful when debugging NMEA-0183 data.<br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=4efc5c&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124626497_5788ae9f96_o.png" title="https://live.staticflickr.com/65535/49124626497_5788ae9f96_o.png"><img alt="" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=4efc5c&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49124626497_5788ae9f96_o.png" /></a></li>
	<li class="level1">In your OpenCPN installations (all of them) you can use this single connection instead of the two TCP connections above. The address can be the same that you gave as <em>broadcastAddress </em>above but it can be also 0.0.0.255 or 127.0.0.255 (of which the latter is more elegant, perhaps). Port number must always match he defined one, though:<br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=c115aa&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49123945128_0e5dd37380_z.jpg" title="https://live.staticflickr.com/65535/49123945128_0e5dd37380_z.jpg"><img alt="live.staticflickr.com_65535_49123945128_0e5dd37380_z.jpg" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=c115aa&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49123945128_0e5dd37380_z.jpg" title="live.staticflickr.com_65535_49123945128_0e5dd37380_z.jpg" /></a></li>
</ol>

<p><a class="wikilink1 curid" data-curid="true" href="/wiki/dokuwiki/doku.php?id=opencpn:supplementary_software:signalk:a6#additional_information" title="opencpn:supplementary_software:signalk:a6">^UP^</a></p>

<hr /></div>

<h4>Howto stream out a recorded NMEA-file</h4>

<div class="level4">
<p>As you may have noticed if reading the external, referenced documentation, it is possible to start the Signal K node server with a pre-installed NMEA-0183 or NMEA-2000 recorded data streaming. In a similar manner, if you have a NMEA-file and you want to stream it back both in Signal K data format to your auxiliary devices and on NMEA-0183 format to OpenCPN, you can give the file to Signal K node server as an input &quot;connection&quot; - the input being the file streaming.</p>

<ol class="fix-media-list-overlap">
	<li class="level1">Put the file in your (here Windows-) home folder, in <code>.signal</code>k directory. Below we use a <code>.txt</code> extension for our file, <code>mynmea0183file.txt</code>, but it has no meaning for Signal K node server, it is only for clarity for file operations:<br />
	<img alt="live.staticflickr.com_65535_49129140481_8e66b64033_w.jpg" class="media img-responsive" height="189" src="/wiki/dokuwiki/lib/exe/fetch.php?w=400&amp;h=189&amp;tok=7c01ed&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49129140481_8e66b64033_w.jpg" title="live.staticflickr.com_65535_49129140481_8e66b64033_w.jpg" width="400" /></li>
	<li class="level1">In Signal K node server&#39;s GUI, in <code>Connections</code>, Add a new connection. Select <code>File Stream</code> as <em>Input Type</em> and <em>Data Type </em>as <code>NMEA-0183</code>. File name is the file name, nothing else. <code>Apply</code>:<br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=a6d1a0&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49129140411_b5e324a2d3.jpg" title="https://live.staticflickr.com/65535/49129140411_b5e324a2d3.jpg"><img alt="live.staticflickr.com_65535_49129140411_b5e324a2d3.jpg" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=a6d1a0&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49129140411_b5e324a2d3.jpg" title="live.staticflickr.com_65535_49129140411_b5e324a2d3.jpg" /></a></li>
	<li class="level1">You will see now the new connection (input source):<br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=4575aa&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49129323602_cb708bce35.jpg" title="https://live.staticflickr.com/65535/49129323602_cb708bce35.jpg"><img alt="live.staticflickr.com_65535_49129323602_cb708bce35.jpg" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=4575aa&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49129323602_cb708bce35.jpg" title="live.staticflickr.com_65535_49129323602_cb708bce35.jpg" /></a></li>
	<li class="level1">But when you go to <code>Dashboard</code>, there is no data going out, reportedly. As indicated in the configuration section of this document, one needs to restart the Signal K node server after any change in the input connections. Let&#39;s do that:<br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=e096d2&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49129140736_be1cac6bb6_w.jpg" title="https://live.staticflickr.com/65535/49129140736_be1cac6bb6_w.jpg"><img alt="live.staticflickr.com_65535_49129140736_be1cac6bb6_w.jpg" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=e096d2&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49129140736_be1cac6bb6_w.jpg" title="live.staticflickr.com_65535_49129140736_be1cac6bb6_w.jpg" /></a></li>
	<li class="level1">Here we support that we&#39;re on a Windows, on a native node.js installation. As you may remember from the above, there is no automatic restarting of the service Signal K node server like there is on Linux. That&#39;s not a bad thing, since it gives us an opportunity to take a look at the modified configuration file in the aforementioned directory which now contains our settings:<br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=528d04&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49129140651_48c7bf0210_w.jpg" title="https://live.staticflickr.com/65535/49129140651_48c7bf0210_w.jpg"><img alt="live.staticflickr.com_65535_49129140651_48c7bf0210_w.jpg" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=528d04&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49129140651_48c7bf0210_w.jpg" title="live.staticflickr.com_65535_49129140651_48c7bf0210_w.jpg" /></a></li>
	<li class="level1">Start the now stopped Signal K node server - see above for the instructions how to manage the stopping and restarting from the command line.</li>
	<li class="level1">You can see from the Dashboard now that your file is streamed out to all relevant channels. What comes to NMEA-0183 data, in addition to Signal K data, please note that the default plug-in to convert the Signal K to NMEA-0183 must be activated and configured (see the previous document):<br />
	<img alt="live.staticflickr.com_65535_49128651538_9054cd1794_z.jpg" class="media img-responsive" height="376" src="/wiki/dokuwiki/lib/exe/fetch.php?w=640&amp;h=376&amp;tok=e3ce09&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49128651538_9054cd1794_z.jpg" title="live.staticflickr.com_65535_49128651538_9054cd1794_z.jpg" width="640" /></li>
	<li class="level1">Let&#39;s check on OpenCPN what we get:<br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=2234b6&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49128651478_2b069df60e.jpg" title="https://live.staticflickr.com/65535/49128651478_2b069df60e.jpg"><img alt="live.staticflickr.com_65535_49128651478_2b069df60e.jpg" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=2234b6&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49128651478_2b069df60e.jpg" title="live.staticflickr.com_65535_49128651478_2b069df60e.jpg" /></a></li>
	<li class="level1">Rember: the connection (the file streaming) is permantely stored in you configuration file and will run at each restart, until you remove it or disable it. That also, it requires the Signal K node server restart.</li>
</ol>

<p><a class="wikilink1 curid" data-curid="true" href="/wiki/dokuwiki/doku.php?id=opencpn:supplementary_software:signalk:a6#additional_information" title="opencpn:supplementary_software:signalk:a6">^UP^</a></p>

<hr /></div>

<h4>How to use a NMEA-simulator to stream NMEA-0183 and NMEA-2000 data</h4>

<div class="level4">
<p>In this example we are using the excellent NMEA-0183 and NMEA-2000 NMEA-simulator from <a class="urlextern" href="http://www.kave.fi/Apps/" rel="nofollow" title="http://www.kave.fi/Apps/">http://www.kave.fi/Apps/</a> - we are referring in this guide to 20.11.2019 version. Please do not hesitate to click also on the <code>Donate </code> (to our own T.L.) button! You should download and install the <em>NMEA-Simulator</em>, but also the <em>Com0Com</em> Null-modem emulator for this use case.</p>

<ol class="fix-media-list-overlap">
	<li class="level1">This by no means a user guide to the NMEA-simulator, there is a user&#39;s guide with it and the interface is, while feature rich, self-explanatory (as soon as you undertand that the boat is not moving only if there is wind, you need to make turn also the propellers! (For me, un <em>voilleux</em>, it was hard to accept at first <img alt=":-)" class="icon" src="/wiki/dokuwiki/lib/images/smileys/icon_smile.gif" /> .) Please note in the status bar the two output channels, we are going to discuss those below:<br />
	<img alt="live.staticflickr.com_65535_49129446761_2b6678a7ba_z.jpg" class="media img-responsive" height="406" src="/wiki/dokuwiki/lib/exe/fetch.php?w=640&amp;h=406&amp;tok=9a9c35&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49129446761_2b6678a7ba_z.jpg" title="live.staticflickr.com_65535_49129446761_2b6678a7ba_z.jpg" width="640" /></li>
	<li class="level1">If you have successfully installed the Com0Com null-modem emulator, you should see it the Device Manager of Windows, it takes a few seconds to check that all the ports do appear and that there are no errors - it will save a bunch of (forum hanging) time for you!<br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=c686b1&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49129446726_6bdbfda673_n.jpg" title="https://live.staticflickr.com/65535/49129446726_6bdbfda673_n.jpg"><img alt="live.staticflickr.com_65535_49129446726_6bdbfda673_n.jpg" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=c686b1&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49129446726_6bdbfda673_n.jpg" title="live.staticflickr.com_65535_49129446726_6bdbfda673_n.jpg" /></a></li>
	<li class="level1">You would set the NMEA-simulator to write NMEA-0183 data to emulator port COM29 - the output will appear in port COM30:<br />
	<img alt="live.staticflickr.com_65535_49128956748_7477bcc654_z.jpg" class="media img-responsive" height="280" src="/wiki/dokuwiki/lib/exe/fetch.php?w=640&amp;h=280&amp;tok=c585e0&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49128956748_7477bcc654_z.jpg" title="live.staticflickr.com_65535_49128956748_7477bcc654_z.jpg" width="640" /></li>
	<li class="level1">For the NMEA-2000 data we write to the port CNCA0 - the output will appear in CNCB0 port:<br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=6c369d&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49129629927_25111c869b_z.jpg" title="https://live.staticflickr.com/65535/49129629927_25111c869b_z.jpg"><img alt="live.staticflickr.com_65535_49129629927_25111c869b_z.jpg" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=6c369d&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49129629927_25111c869b_z.jpg" title="live.staticflickr.com_65535_49129629927_25111c869b_z.jpg" /></a></li>
	<li class="level1">Let&#39;s look at my Signal K node server configuration (on a native Windows node.js installation) - you can see how the NMEA-2000 input stream is configured, coming from CNCB0 port as Actisense NGT-1 stream:<br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=26e35f&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49129446901_e82fc5e258_z.jpg" title="https://live.staticflickr.com/65535/49129446901_e82fc5e258_z.jpg"><img alt="live.staticflickr.com_65535_49129446901_e82fc5e258_z.jpg" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=26e35f&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49129446901_e82fc5e258_z.jpg" title="live.staticflickr.com_65535_49129446901_e82fc5e258_z.jpg" /></a></li>
	<li class="level1">The NMEA-0183 input stream configuration:<br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=c4866d&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49129446826_3950422d9f_w.jpg" title="https://live.staticflickr.com/65535/49129446826_3950422d9f_w.jpg"><img alt="live.staticflickr.com_65535_49129446826_3950422d9f_w.jpg" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=c4866d&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49129446826_3950422d9f_w.jpg" title="live.staticflickr.com_65535_49129446826_3950422d9f_w.jpg" /></a></li>
	<li class="level1">Let&#39;s see the dual input source streamer in action. Here OpenCPN is receiving data GPS and other such data from the UDP broadcast channel of Signal K node server, while all the so called <em>Signal K delta data </em> (see the technical description page) is sent to port 8375, from which it is captured by <em><a class="urlextern" href="https://github.com/canne/dashboard_tactics_pi/releases" rel="nofollow" title="https://github.com/canne/dashboard_tactics_pi/releases">DashT </a></em> plug-in which distributes the NMEA-2000 data containing RPM, oil pressure and water temperatur to relevant Dashboard instruments - you may notice the quite high input from the simulator and the corresponding throughput of about 130 - 150 data (double) messages parsed and send to subcribed instruments every second:<br />
	<a class="media" href="/wiki/dokuwiki/lib/exe/fetch.php?tok=4360d1&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49129543421_dca8d3061c_z.jpg" title="https://live.staticflickr.com/65535/49129543421_dca8d3061c_z.jpg"><img alt="live.staticflickr.com_65535_49129543421_dca8d3061c_z.jpg" class="media img-responsive" src="/wiki/dokuwiki/lib/exe/fetch.php?tok=4360d1&amp;media=https%3A%2F%2Flive.staticflickr.com%2F65535%2F49129543421_dca8d3061c_z.jpg" title="live.staticflickr.com_65535_49129543421_dca8d3061c_z.jpg" /></a></li>
	<li class="level1">One small caveat for Windows users with multiple displays: current (2019) versions of NMEA-simulator do memorize the last window position alright when you close it. But if you are in multiscreen configuration when you stop it and then start on a single screen, it happily go to the empty space outsise of your single screen. I have not found any other way to get it back but by using <em>Registry Edito</em>r (search for it with Windows search), then searching for <em>HKEY_CURRENT_USER\Software\Kave\NMEA_Simulator\</em> to clear the memorized position by deleting the corresponding keys, then starting again.</li>
</ol>

<p><a class="wikilink1 curid" data-curid="true" href="/wiki/dokuwiki/doku.php?id=opencpn:supplementary_software:signalk:a6#additional_information" title="opencpn:supplementary_software:signalk:a6">^UP^</a></p>

<hr />
<p>(end)</p>
</div>
